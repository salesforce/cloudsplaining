<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="AWS IAM Policy Audit Report">
  <meta name="author" content="Kinnaird McQuade">
  <title>Cloudsplaining: AWS IAM Policy Audit Report</title>

  <!--Bootstrap theme-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

  <!--Custom CSS-->
  <style>
    .nav li {
      float: left;
    }

    .navbar {
      border-radius: 10px;
      font-size: 1em;
    }

    body {
      position: relative;
    }
    /*Use Bootstrap 3 button colors with bootstrap 4. Personal preference.*/
    /*The next line has this minified but you can view the expanded one here: https://gist.github.com/kmcquade/ea8be1948c0ae260c93291fae7f7880a*/
    /*.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{background-image:none;outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;-webkit-box-shadow:none;box-shadow:none;opacity:.65}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default.focus,.btn-default:focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active,.btn-default:active,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active.focus,.btn-default.active:focus,.btn-default.active:hover,.btn-default:active.focus,.btn-default:active:focus,.btn-default:active:hover,.open>.dropdown-toggle.btn-default.focus,.open>.dropdown-toggle.btn-default:focus,.open>.dropdown-toggle.btn-default:hover{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default.active,.btn-default:active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled.focus,.btn-default.disabled:focus,.btn-default.disabled:hover,.btn-default[disabled].focus,.btn-default[disabled]:focus,.btn-default[disabled]:hover,fieldset[disabled] .btn-default.focus,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:hover{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary:hover{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active,.btn-primary:active,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active.focus,.btn-primary.active:focus,.btn-primary.active:hover,.btn-primary:active.focus,.btn-primary:active:focus,.btn-primary:active:hover,.open>.dropdown-toggle.btn-primary.focus,.open>.dropdown-toggle.btn-primary:focus,.open>.dropdown-toggle.btn-primary:hover{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary.active,.btn-primary:active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled.focus,.btn-primary.disabled:focus,.btn-primary.disabled:hover,.btn-primary[disabled].focus,.btn-primary[disabled]:focus,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary.focus,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:hover{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active.focus,.btn-success.active:focus,.btn-success.active:hover,.btn-success:active.focus,.btn-success:active:focus,.btn-success:active:hover,.open>.dropdown-toggle.btn-success.focus,.open>.dropdown-toggle.btn-success:focus,.open>.dropdown-toggle.btn-success:hover{color:#fff;background-color:#398439;border-color:#255625}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled.focus,.btn-success.disabled:focus,.btn-success.disabled:hover,.btn-success[disabled].focus,.btn-success[disabled]:focus,.btn-success[disabled]:hover,fieldset[disabled] .btn-success.focus,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:hover{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info:hover{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active,.btn-info:active,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active.focus,.btn-info.active:focus,.btn-info.active:hover,.btn-info:active.focus,.btn-info:active:focus,.btn-info:active:hover,.open>.dropdown-toggle.btn-info.focus,.open>.dropdown-toggle.btn-info:focus,.open>.dropdown-toggle.btn-info:hover{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info.active,.btn-info:active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled.focus,.btn-info.disabled:focus,.btn-info.disabled:hover,.btn-info[disabled].focus,.btn-info[disabled]:focus,.btn-info[disabled]:hover,fieldset[disabled] .btn-info.focus,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:hover{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning.focus,.btn-warning:focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning:hover{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active,.btn-warning:active,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active.focus,.btn-warning.active:focus,.btn-warning.active:hover,.btn-warning:active.focus,.btn-warning:active:focus,.btn-warning:active:hover,.open>.dropdown-toggle.btn-warning.focus,.open>.dropdown-toggle.btn-warning:focus,.open>.dropdown-toggle.btn-warning:hover{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning.active,.btn-warning:active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled.focus,.btn-warning.disabled:focus,.btn-warning.disabled:hover,.btn-warning[disabled].focus,.btn-warning[disabled]:focus,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning.focus,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:hover{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active,.btn-danger:active,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active.focus,.btn-danger.active:focus,.btn-danger.active:hover,.btn-danger:active.focus,.btn-danger:active:focus,.btn-danger:active:hover,.open>.dropdown-toggle.btn-danger.focus,.open>.dropdown-toggle.btn-danger:focus,.open>.dropdown-toggle.btn-danger:hover{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger.active,.btn-danger:active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled.focus,.btn-danger.disabled:focus,.btn-danger.disabled:hover,.btn-danger[disabled].focus,.btn-danger[disabled]:focus,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger.focus,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:hover{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{font-weight:400;color:#337ab7;border-radius:0}.btn-link,.btn-link.active,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:active,.btn-link:focus,.btn-link:hover{border-color:transparent}.btn-link:focus,.btn-link:hover{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:focus,.btn-link[disabled]:hover,fieldset[disabled] .btn-link:focus,fieldset[disabled] .btn-link:hover{color:#777;text-decoration:none}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-group-sm>.btn,.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-group-xs>.btn,.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}*/
  </style>

</head>

<body onload="setSummaryAsActiveTab()">
<!------------------>
<!-- Row          -->
<!------------------>
<div class="row">
  <!--------------->
  <!-- Container -->
  <!--------------->
  <div class="container">
    <!------------------>
    <!-- Navbar -->
    <!------------------>
    <nav id="navbar" class="navbar navbar-expand-sm sticky-top navbar-light bg-light">

      <div class="navbar nav nav-tabs" id="nav-tab" role="tablist">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">Cloudsplaining</a>
        </div>
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-item nav-link active" id="nav-summary-tab" data-toggle="tab" href="#nav-summary" role="tab" aria-controls="nav-summary" aria-selected="true">Summary</a>
          </li>
          <li class="nav-item">
            <a class="nav-item nav-link" id="nav-customer-managed-tab" data-toggle="tab" href="#nav-customer-managed" role="tab" aria-controls="nav-customer-managed" aria-selected="false">Customer policies</a>
          </li>
          <li class="nav-item">
            <a class="nav-item nav-link" id="nav-aws-managed-tab" data-toggle="tab" href="#nav-aws-managed" role="tab" aria-controls="nav-aws-managed" aria-selected="false">AWS policies</a>
          </li>
          <li class="nav-item">
            <a class="nav-item nav-link" id="nav-principals-tab" data-toggle="tab" href="#nav-principals" role="tab" aria-controls="nav-principals" aria-selected="false">IAM Principals</a>
          </li>
          <!--GUIDANCE DROPDOWN-->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="nav-guidance-tab" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Guidance</a>
            <div class="dropdown-menu">
              <!--Triage Guidance-->
              <a class="dropdown-item" href="#triage-guidance"><b>Triaging</b></a>
              <a class="dropdown-item" href="#triage-understanding-context">Context</a>
              <a class="dropdown-item" href="#triage-assessment-recap">Assessment Recap</a>
              <a class="dropdown-item" href="#triage-triaging-workflow">Triaging Workflow</a>
              <a class="dropdown-item" href="#triage-triaging-considerations">Triaging Considerations</a>
              <a class="dropdown-item" href="#triage-common-false-positive-scenarios">Common False Positive Scenarios</a>
              <a class="dropdown-item" href="#triage-building-the-exclusions-file">Building the Exclusions File</a>
              <div class="dropdown-divider"></div>
              <!--Remediation Guidance-->
              <a class="dropdown-item" href="#remediation-guidance"><b>Remediation</b></a>
              <a class="dropdown-item" href="#remediation-prioritization">Prioritization</a>
              <a class="dropdown-item" href="#remediation-technical-remediation">Technical Remediation</a>
              <div class="dropdown-divider"></div>
              <!--Validation Guidance-->
              <a class="dropdown-item" href="#validation-guidance"><b>Validation</b></a>
              <a class="dropdown-item" href="#validation-using-cloudsplaining">Using Cloudsplaining</a>
              <a class="dropdown-item" href="#validation-using-parliament">Using Parliament</a>
            </div>
          </li>
          <!--APPENDICES DROPDOWN-->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="nav-appendices-tab" data-toggle="dropdown" href="#" role="tab" aria-haspopup="true" aria-expanded="false">Appendices</a>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="#appendices"><b>Appendix</b></a>
              <a class="dropdown-item" href="#glossary">Glossary</a>
              <a class="dropdown-item" href="#exclusions">Exclusions Configuration</a>
              <a class="dropdown-item" href="#references">References</a>
            </div>
          </li>
          <li class="nav-item">
            <button type="button" class="btn btn-outline-secondary" id="collapseAccordion">
              <span class="glyphicon glyphicon-collapse-down"></span>Collapse
            </button>
          </li>
          <li class="nav-item">
            <button type="button" class="btn btn-outline-secondary" id="expandAccordion">
              <span class="glyphicon glyphicon-collapse-up"></span>Expand
            </button>
          </li>
        </ul><!--/end navbar list-->
      </div><!-- /end navbar container -->
    </nav><!-- /end navbar -->

    <!--CONTENT-->
    <!--TAB CONTENT-->
    <!-- Title section -->
    <div class="row">
      <div class="col-md-12">
        <div data-spy="scroll" data-target="#navbar" data-offset="50">
        <div class="tab-content" id="nav-tabContent">

          <!--EXECUTIVE SUMMARY TAB-->
          <div class="tab-pane fade show active" id="nav-summary" role="tabpanel" aria-labelledby="nav-summary-tab">
            <br>
            Report metadata:
            <ul>
              <li>Account: {{ t["account_name"] }} ({{ t["account_id"] }})</li>
              <li>Report Generated: {{t.report_generated_time}}</li>
            </ul>
            <br>
            <!--Executive Summary-->
            <h3 id="executive-summary">Executive Summary</h3>
            {% include 'summary/executive-summary.html' %}
          </div><!--/END SUMMARY TAB-->

          <!--PRINCIPALS TAB-->
          <div class="tab-pane fade" id="nav-principals" role="tabpanel" aria-labelledby="nav-principals-tab">
          <h3 id="iam-principals">IAM Principals</h3>

            {% include 'summary/iam-principals.html' %}
          </div><!--/end PRINCIPALS TAB-->

          <!--CUSTOMER-MANAGED TAB-->
          <div class="tab-pane fade" id="nav-customer-managed" role="tabpanel" aria-labelledby="nav-customer-managed-tab">

            <!--Summary: Customer-managed policies-->
            <h3 id="customer-managed-policies-summary">Findings: Customer-managed Policies</h3>
            {% include 'summary/customer-managed.html' %}

            <!--Analysis: Customer-managed-policies-->
            <h3 id="customer-managed-in-depth-analysis">In-depth analysis: Customer-managed Policies</h3>
            {% include 'analysis/customer-managed.html' %}
          </div><!--/end CUSTOMER-MANAGED TAB-->


          <!--AWS-MANAGED TAB-->
          <div class="tab-pane fade" id="nav-aws-managed" role="tabpanel" aria-labelledby="nav-aws-managed-tab">

            <!--Summary: AWS-managed policies-->
            <h3 id="aws-managed-policies-summary">Findings: AWS-managed Policies</h3>
            {% include 'summary/aws-managed.html' %}

            <!--Analysis: AWS-managed-policies-->
            <h3 id="aws-managed-in-depth-analysis">In-depth analysis: AWS-managed Policies</h3>
            {% include 'analysis/aws-managed.html' %}

          </div><!--/end AWS-MANAGED TAB-->

        </div><!--/end Tab content-->
        </div><!--/end data spy-->

        <br>
        <hr>
        <br>
        <!--Guidance-->
        <h2 id="guidance">Guidance</h2>
        {% include 'guidance/guidance.html' %}

        <!--Appendix-->
        <h3 id="appendices">Appendix</h3>
        <br>

        <!--Appendix subsection: Glossary-->
        <h4 id="glossary">Glossary</h4>
        {% include 'appendix/glossary.html' %}

        <!--Appendix subsection: Exclusions configuration-->
        <h4 id="exclusions">Exclusions configuration</h4>
        {% include 'appendix/exclusions.html' %}

        <!--Appendix subsection: References-->
        <h4 id="references">References</h4>
        {% include 'appendix/references.html' %}

        <hr>

        </div> <!-- /data-spy -->
      </div> <!-- /column containing all contents-->
    </div><!-- /row holding all contents-->
  </div><!-- /container -->
</div><!-- /row holding container holding all contents -->

<!-- JQuery-->
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<!--Popper-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>

<!--  Bootstrap-->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

<!--Press Collapse/expand button so you can Ctrl+F through the report-->
<script>
  $(function () {
    $('#collapseAccordion').on('click', function (e) {
      $('.panel-collapse').collapse('hide');
    })
    $('#expandAccordion').on('click', function (e) {
      $('.panel-collapse').collapse('show');
    })
  });
</script>
<script>
function setSummaryAsActiveTab() {
  $('.nav-tabs a[href="#nav-summary"]').tab('show')
}

  </script>
</body>
</html>
