language: python
python:
- '3.6'
- '3.7'
- '3.8'
before_install:
- pip install -U pip setuptools
install:
- pip install pipenv
- pipenv install --dev
script:
- invoke build.install-package
- invoke test.lint
- invoke test.security
- invoke unit.pytest
- invoke integration.version
- invoke integration.expand-policy
- invoke integration.scan
deploy:
  provider: pypi
  user: __token__
  distributions: sdist bdist_wheel
  skip_existing: true
  on:
    tags: true
    branch: master
    python: 3.6
  password:
    secure: BPUMpAti+EAU0HoNHw8Jkrc2Zk9Wweu1k3v1DrbTnKO8b13cFlmzo03rpX4eIusFBGuH5GnhojN23EizxE28pznvIOcza5Eybie7I1rRn/D5P70MeH5mnILHHjyfvr7IdgDM87hZByPK2j4usGJTB/KxQmW/WvVrHzICNIxNCI+UCdhkXonk06ikpmq2HeWY5hDg7AHVIYKK27vlUUtw4s03BSDYdP83lis/jq5maDuVz3tH/Ov7mlad5LiOea0j75X6zt/op+oZuGFF2GSlHKhwKqQmpMB41eZ5uwozf4PsvWda5RrUii+Dg/eMWCT4nYhBjEEgZJJtv1a5MZiV1cDqOFqoRkJ419JKn6Oy+2FHJb/VFTo00C1HQaxJI6zjia9L6F5PuwYzeywlqeRQo/HwlaG2PokrBexebPTk27J1ca2py78XQVT3T7Vx1fE4+Py2/U0/sqJMyKIY33bXROZg617ZZHVOhP5Gh1+vwc74+NdqeJSd3auqHcyLdzD+U2u3yPWExL1iii5/yXa/WjT2+6889H6UqzBod7egCorpgSK+oZi3Nkn7l6TyEOIFtj7/1Nd5uu8L2ZC3Cc7S98UFuYnnpk0lpGrqfgxmFT+Xbu7R2OgFhbZjnq1IfJWRs4OMrXTUngK7WnqM41nlFJpFRJhY7HekNAsq20/k9FE=
